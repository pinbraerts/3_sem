Для совсем подробного понимания, как организовать работу с select(...), рекомендую посмотреть сылку ниже (основной цикл while(1) {...}, и пусть понятие "сокет" не пугает! Мы ими сейчас не пользуемся).
https://www.geeksforgeeks.org/socket-programming-in-cc-handling-multiple-clients-on-server-without-multi-threading/
